<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Generator - Create Perfect AI Prompts</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        @font-face { font-family: 'Futura'; src: local('Futura Extra Bold'); font-weight: 800; font-style: italic; }
        
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --text-primary: #000000;
            --text-secondary: #4a4a4a;
            --text-muted: #717171;
            --accent-primary: #1292eb;
            --accent-hover: #0d7fd4;
            --accent-light: rgba(18,146,235,0.1);
            --border-color: #e5e5e5;
            --success-color: #10b981;
            --success-light: rgba(16,185,129,0.1);
            --error-bg: #fef2f2;
            --error-border: #fecaca;
            --error-text: #dc2626;
            --shadow-lg: 0 8px 30px rgba(18,146,235,0.15);
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; line-height: 1.6; }
        .container { max-width: 1100px; margin: 0 auto; padding: 60px 24px 80px; }

        .header { text-align: center; margin-bottom: 40px; }
        .header-icon { display: inline-flex; align-items: center; justify-content: center; width: 72px; height: 72px; background: var(--accent-light); border-radius: var(--radius-lg); font-size: 36px; margin-bottom: 20px; }
        .header h1 { font-family: 'Futura', 'Trebuchet MS', sans-serif; font-size: clamp(32px, 5vw, 48px); font-weight: 800; font-style: italic; margin-bottom: 12px; }
        .header h1 span { color: var(--accent-primary); }
        .header p { font-size: 17px; color: var(--text-secondary); max-width: 600px; margin: 0 auto; }

        .stats-bar { display: flex; justify-content: center; gap: 40px; margin-bottom: 40px; padding: 16px; background: var(--bg-secondary); border-radius: var(--radius-lg); flex-wrap: wrap; }
        .stat { display: flex; align-items: center; gap: 8px; font-size: 14px; color: var(--text-secondary); }
        .stat-icon { width: 32px; height: 32px; background: var(--accent-light); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: var(--accent-primary); }
        .stat strong { color: var(--text-primary); }

        .input-section { background: var(--bg-primary); border: 2px solid var(--border-color); border-radius: var(--radius-lg); padding: 24px; margin-bottom: 24px; transition: border-color 0.3s; }
        .input-section:focus-within { border-color: var(--accent-primary); }
        .input-label { display: flex; align-items: center; gap: 10px; font-size: 15px; font-weight: 600; margin-bottom: 14px; }
        .input-label-icon { display: flex; align-items: center; justify-content: center; width: 28px; height: 28px; background: var(--accent-light); border-radius: 6px; font-size: 14px; }
        
        .main-input { width: 100%; padding: 16px; border: 2px solid var(--border-color); border-radius: var(--radius-md); font-family: inherit; font-size: 16px; color: var(--text-primary); background: var(--bg-primary); resize: none; transition: border-color 0.3s; }
        .main-input:focus { outline: none; border-color: var(--accent-primary); }
        .main-input::placeholder { color: var(--text-muted); }

        .options-section { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 24px; }
        .option-group { background: var(--bg-primary); border: 2px solid var(--border-color); border-radius: var(--radius-md); padding: 20px; }
        .option-label { display: block; font-size: 13px; font-weight: 600; margin-bottom: 12px; }
        .option-buttons { display: flex; flex-wrap: wrap; gap: 8px; }
        .option-btn { padding: 10px 16px; background: var(--bg-secondary); border: 2px solid transparent; border-radius: 100px; font-family: inherit; font-size: 13px; font-weight: 500; color: var(--text-secondary); cursor: pointer; transition: all 0.25s; }
        .option-btn:hover { border-color: var(--accent-primary); color: var(--accent-primary); }
        .option-btn.active { background: var(--accent-primary); border-color: var(--accent-primary); color: white; }

        .generate-section { display: flex; justify-content: center; margin: 32px 0; }
        .generate-btn { display: flex; align-items: center; gap: 10px; padding: 18px 48px; background: var(--accent-primary); border: none; border-radius: var(--radius-xl); font-size: 16px; font-weight: 600; color: white; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 20px rgba(18,146,235,0.3); }
        .generate-btn:hover { background: var(--accent-hover); transform: translateY(-2px); }
        .generate-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
        .spinner { width: 20px; height: 20px; border: 2px solid rgba(255,255,255,0.3); border-top-color: white; border-radius: 50%; animation: spin 0.8s linear infinite; display: none; }
        .generate-btn.loading .spinner { display: block; }
        .generate-btn.loading .btn-text { display: none; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .loading-message { text-align: center; padding: 40px 20px; display: none; }
        .loading-message.show { display: block; }
        .loading-message h3 { font-size: 18px; margin-bottom: 8px; }
        .loading-message p { color: var(--text-muted); font-size: 14px; }
        .loading-dots { display: flex; justify-content: center; gap: 8px; margin-bottom: 16px; }
        .loading-dots span { font-size: 24px; animation: pulse 1.5s ease-in-out infinite; }
        .loading-dots span:nth-child(2) { animation-delay: 0.2s; }
        .loading-dots span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

        .error-message { background: var(--error-bg); border: 2px solid var(--error-border); color: var(--error-text); padding: 16px 20px; border-radius: var(--radius-md); margin-bottom: 20px; display: none; }
        .error-message.show { display: block; }

        .output-section { display: none; background: var(--bg-primary); border: 2px solid var(--accent-primary); border-radius: var(--radius-lg); overflow: hidden; }
        .output-section.show { display: block; animation: slideUp 0.4s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; } }

        .output-header { display: flex; align-items: center; justify-content: space-between; padding: 16px 20px; background: var(--accent-light); border-bottom: 1px solid var(--border-color); }
        .output-title { display: flex; align-items: center; gap: 10px; font-size: 14px; font-weight: 600; color: var(--accent-primary); }
        .output-actions { display: flex; gap: 8px; }
        .action-btn { display: flex; align-items: center; justify-content: center; width: 36px; height: 36px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-muted); cursor: pointer; transition: all 0.2s; }
        .action-btn:hover { border-color: var(--accent-primary); color: var(--accent-primary); }
        .action-btn.copied { border-color: var(--success-color); color: var(--success-color); background: var(--success-light); }

        .output-body { padding: 24px; }
        .generated-prompt { font-size: 15px; line-height: 1.8; color: var(--text-primary); white-space: pre-wrap; background: var(--bg-secondary); padding: 20px; border-radius: var(--radius-md); border-left: 4px solid var(--accent-primary); }

        .quality-indicator { display: flex; align-items: center; gap: 16px; margin-top: 20px; padding: 16px 20px; background: var(--success-light); border-radius: var(--radius-md); }
        .quality-badge { display: flex; align-items: center; gap: 6px; padding: 6px 12px; background: var(--success-color); border-radius: 100px; font-size: 12px; font-weight: 600; color: white; }
        .quality-text { font-size: 14px; color: var(--text-secondary); }

        .reset-btn { display: flex; align-items: center; justify-content: center; gap: 8px; margin: 24px auto 0; padding: 12px 24px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: var(--radius-md); font-size: 14px; font-weight: 600; color: var(--text-secondary); cursor: pointer; transition: all 0.25s; }
        .reset-btn:hover { border-color: var(--accent-primary); color: var(--accent-primary); }

        .examples-section { margin-top: 48px; }
        .examples-title { display: flex; align-items: center; gap: 10px; font-size: 18px; font-weight: 700; margin-bottom: 20px; }
        .examples-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .example-card { padding: 20px; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: var(--radius-md); cursor: pointer; transition: all 0.25s; }
        .example-card:hover { border-color: var(--accent-primary); transform: translateY(-2px); }
        .example-card h4 { font-size: 14px; font-weight: 600; margin-bottom: 8px; }
        .example-card p { font-size: 13px; color: var(--text-muted); line-height: 1.5; }

        @media (max-width: 768px) {
            .options-section { grid-template-columns: 1fr; }
            .examples-grid { grid-template-columns: 1fr; }
            .stats-bar { flex-direction: column; align-items: center; }
        }
    </style>
</head>
<body>
<div class="container">
    <header class="header">
        <div class="header-icon">‚ú®</div>
        <h1>Prompt <span>Generator</span></h1>
        <p>Generate expert-level AI prompts tailored to your needs. Get better results from any AI with professionally crafted prompts.</p>
    </header>

    <div class="stats-bar">
        <div class="stat"><div class="stat-icon">ü§ñ</div><span><strong>AI</strong> powered</span></div>
        <div class="stat"><div class="stat-icon">üéØ</div><span><strong>Optimized</strong> prompts</span></div>
        <div class="stat"><div class="stat-icon">‚ö°</div><span><strong>Instant</strong> generation</span></div>
    </div>

    <div id="formSection">
        <div class="input-section">
            <label class="input-label">
                <div class="input-label-icon">üí≠</div>
                What do you want the AI to help you with?
            </label>
            <textarea class="main-input" id="taskInput" rows="3" placeholder="E.g., Write a blog post about sustainable fashion, Create a marketing email for a new product launch, Help me brainstorm business ideas for a food truck..."></textarea>
        </div>

        <div class="options-section">
            <div class="option-group">
                <label class="option-label">üìÑ Output Type</label>
                <div class="option-buttons">
                    <button class="option-btn active" data-option="output" data-value="Text/Article">Text/Article</button>
                    <button class="option-btn" data-option="output" data-value="Email">Email</button>
                    <button class="option-btn" data-option="output" data-value="Code">Code</button>
                    <button class="option-btn" data-option="output" data-value="List/Ideas">List/Ideas</button>
                    <button class="option-btn" data-option="output" data-value="Social Post">Social Post</button>
                </div>
            </div>

            <div class="option-group">
                <label class="option-label">üé® Tone</label>
                <div class="option-buttons">
                    <button class="option-btn active" data-option="tone" data-value="Professional">Professional</button>
                    <button class="option-btn" data-option="tone" data-value="Casual">Casual</button>
                    <button class="option-btn" data-option="tone" data-value="Friendly">Friendly</button>
                    <button class="option-btn" data-option="tone" data-value="Persuasive">Persuasive</button>
                    <button class="option-btn" data-option="tone" data-value="Formal">Formal</button>
                </div>
            </div>

            <div class="option-group">
                <label class="option-label">üìä Complexity Level</label>
                <div class="option-buttons">
                    <button class="option-btn" data-option="complexity" data-value="Simple">Simple</button>
                    <button class="option-btn active" data-option="complexity" data-value="Moderate">Moderate</button>
                    <button class="option-btn" data-option="complexity" data-value="Detailed">Detailed</button>
                    <button class="option-btn" data-option="complexity" data-value="Expert">Expert</button>
                </div>
            </div>

            <div class="option-group">
                <label class="option-label">üìè Length</label>
                <div class="option-buttons">
                    <button class="option-btn" data-option="length" data-value="Short">Short</button>
                    <button class="option-btn active" data-option="length" data-value="Medium">Medium</button>
                    <button class="option-btn" data-option="length" data-value="Long">Long</button>
                    <button class="option-btn" data-option="length" data-value="Comprehensive">Comprehensive</button>
                </div>
            </div>
        </div>

        <section class="examples-section">
            <h2 class="examples-title">
                <span>üí°</span>
                Quick Examples
            </h2>
            <div class="examples-grid">
                <div class="example-card" data-example="Write a compelling product description for an eco-friendly water bottle">
                    <h4>Product Description</h4>
                    <p>E-commerce copy for eco-friendly water bottle</p>
                </div>
                <div class="example-card" data-example="Create a week-long social media content calendar for a fitness brand">
                    <h4>Content Calendar</h4>
                    <p>Social media planning for fitness brand</p>
                </div>
                <div class="example-card" data-example="Help me write a cover letter for a software engineering position at a tech startup">
                    <h4>Cover Letter</h4>
                    <p>Job application for software engineer role</p>
                </div>
            </div>
        </section>
    </div>

    <div class="error-message" id="errorMessage"></div>

    <div class="generate-section">
        <button class="generate-btn" id="generateBtn">
            <span class="btn-text">‚ú® Generate Prompt</span>
            <div class="spinner"></div>
        </button>
    </div>

    <div class="loading-message" id="loadingMessage">
        <div class="loading-dots">
            <span>‚ú®</span>
            <span>üéØ</span>
            <span>üìù</span>
        </div>
        <h3>Crafting your perfect prompt...</h3>
        <p>AI is generating an optimized prompt. This takes about 5-10 seconds.</p>
    </div>

    <div class="output-section" id="outputSection">
        <div class="output-header">
            <div class="output-title">
                <span>üéØ</span>
                Your Generated Prompt
            </div>
            <div class="output-actions">
                <button class="action-btn" id="copyBtn" title="Copy to clipboard">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                </button>
            </div>
        </div>
        <div class="output-body">
            <div class="generated-prompt" id="generatedPrompt"></div>
            <div class="quality-indicator">
                <div class="quality-badge">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                    Optimized
                </div>
                <span class="quality-text">This prompt is structured for best AI results</span>
            </div>
            <button class="reset-btn" id="resetBtn">‚Üê Generate Another Prompt</button>
        </div>
    </div>
</div>

<script>
const SYSTEM_PROMPT = `You are an expert prompt engineer. Your job is to create highly effective prompts that get the best results from AI systems.

A great prompt includes:
1. Clear role/persona for the AI
2. Specific task description
3. Context and constraints
4. Desired format and structure
5. Quality criteria and examples if helpful

Write prompts that are clear, specific, and actionable. The prompt should be ready to copy and paste into any AI.`;

let selectedOptions = {
    output: 'Text/Article',
    tone: 'Professional',
    complexity: 'Moderate',
    length: 'Medium'
};

// Option button handlers
document.querySelectorAll('.option-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const option = btn.dataset.option;
        document.querySelectorAll(`[data-option="${option}"]`).forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        selectedOptions[option] = btn.dataset.value;
    });
});

// Example cards
document.querySelectorAll('.example-card').forEach(card => {
    card.addEventListener('click', () => {
        document.getElementById('taskInput').value = card.dataset.example;
        document.getElementById('taskInput').focus();
    });
});

// Generate prompt
document.getElementById('generateBtn').addEventListener('click', async () => {
    const task = document.getElementById('taskInput').value.trim();
    
    if (!task) {
        document.getElementById('errorMessage').textContent = 'Please describe what you want the AI to help you with.';
        document.getElementById('errorMessage').classList.add('show');
        return;
    }
    
    document.getElementById('errorMessage').classList.remove('show');
    
    const btn = document.getElementById('generateBtn');
    btn.classList.add('loading');
    btn.disabled = true;
    document.getElementById('loadingMessage').classList.add('show');
    document.getElementById('outputSection').classList.remove('show');

    const userPrompt = `Create an optimized AI prompt for this task:

TASK: ${task}

SETTINGS:
- Output Type: ${selectedOptions.output}
- Tone: ${selectedOptions.tone}
- Complexity: ${selectedOptions.complexity}
- Length: ${selectedOptions.length}

Generate a well-structured prompt that:
1. Assigns the AI a relevant expert role/persona
2. Clearly explains what needs to be done
3. Specifies the tone and style requirements
4. Includes format guidelines (headers, sections, length)
5. Sets quality expectations

Write ONLY the prompt itself - no explanations or meta-commentary. The prompt should be ready to copy and paste directly into an AI.

Make the prompt ${selectedOptions.complexity.toLowerCase()} in detail - ${selectedOptions.complexity === 'Simple' ? 'keep it brief and straightforward' : selectedOptions.complexity === 'Moderate' ? 'include key details and structure' : selectedOptions.complexity === 'Detailed' ? 'be thorough with clear sections and requirements' : 'be comprehensive with expert-level specificity and multiple quality criteria'}.`;

    try {
        const response = await fetch('/api/groq', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                model: 'claude-haiku-4-5-20251001',
                max_tokens: 1500,
                system: SYSTEM_PROMPT,
                messages: [{ role: 'user', content: userPrompt }]
            })
        });

        const data = await response.json();
        
        if (data.error) {
            throw new Error(data.error.message || 'API request failed');
        }

        const textContent = data.content
            ?.filter(block => block.type === 'text')
            ?.map(block => block.text)
            ?.join('\n\n') || '';

        if (!textContent) {
            throw new Error('No response generated. Please try again.');
        }

        document.getElementById('generatedPrompt').textContent = textContent;
        document.getElementById('outputSection').classList.add('show');
        document.getElementById('formSection').style.display = 'none';
        document.querySelector('.generate-section').style.display = 'none';
        document.getElementById('outputSection').scrollIntoView({ behavior: 'smooth' });

    } catch (err) {
        document.getElementById('errorMessage').textContent = err.message || 'Failed to generate prompt. Please try again.';
        document.getElementById('errorMessage').classList.add('show');
    } finally {
        btn.classList.remove('loading');
        btn.disabled = false;
        document.getElementById('loadingMessage').classList.remove('show');
    }
});

// Copy to clipboard
document.getElementById('copyBtn').addEventListener('click', async () => {
    const text = document.getElementById('generatedPrompt').textContent;
    await navigator.clipboard.writeText(text);
    const btn = document.getElementById('copyBtn');
    btn.classList.add('copied');
    setTimeout(() => btn.classList.remove('copied'), 2000);
});

// Reset
document.getElementById('resetBtn').addEventListener('click', () => {
    document.getElementById('outputSection').classList.remove('show');
    document.getElementById('formSection').style.display = 'block';
    document.querySelector('.generate-section').style.display = 'flex';
    document.getElementById('generatedPrompt').textContent = '';
    window.scrollTo({ top: 0, behavior: 'smooth' });
});
</script>
</body>
</html>
